<!--
<!DOCTYPE html>
<html>
<body>
    <h1>Lasaga wins amiibo</h1>
    <p id="demo">Lasaga has won amiibo 0 times.</p>


    <button onclick='IncrementButton(document.getElementById("demo").innerHTML, "demo")'>Click Me!</button>
    <script>
        function IncrementButton(x, id) {
            var arr = x.split(" ");
            var num = parseInt(arr[4]);
            num += 1;
            if (num == 1) {
                document.getElementById(id).innerHTML = "Lasaga has won amiibo " + num + " time.";
            }
            else {
                document.getElementById(id).innerHTML = "Lasaga has won amiibo " + num + " times.";
            }

        }



    </script>
</body>
</html>
-->
<!DOCTYPE html>
<html>
<body>

    <div id="characters">
        <label for="chars">Character:</label>
        <select name="chars" id="chars">
            <option value="hahaha">Test</option>
        </select>
    </div>

    <div id="demo">
        <h2>The XMLHttpRequest Object</h2>
        <button type="button" onclick="loadDoc()">Change Content</button>
    </div>

    <script>
        function loadDoc() {
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    /*var test = this.responseText.replace(/\n/g, "<br>");*/
                    var test = this.responseText.split("\n");


                    var maybe = ["Bayo", "Mario", "Donkey Kong"];

                    replaceSelectWithArray(test, "chars");
                }
            };
            xhttp.open("GET", "characters.csv", true);
            xhttp.send();
        }

        function replaceSelectWithArray(array_list, select_id_to_replace) {
            /*https://www.w3schools.com/jsref/dom_obj_select.asp*/
            var select_box = document.createElement("select");
            select_box.setAttribute("id", "replaced_select_box");
            document.getElementById(select_id_to_replace).innerHTML = select_box
            var i = 0;
            for (i = 0; i < array_list.length; i++) {
                var option = document.createElement("option");
                option.setAttribute("value", array_list[i]);
                var text_node = document.createTextNode(array_list[i]);
                option.appendChild(text_node);
                document.getElementById(select_id_to_replace).appendChild(option);
            }


        }

    </script>

</body>
</html>